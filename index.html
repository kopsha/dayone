<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>One-day or Day-one? You decide.</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <h1>One day or #dayOne?</h1>
    <h3>You decide.</h3>

    <div id="application">
      <p>It all starts <strong>here</strong> and <strong>now</strong> or it does not start at all.</p>
      <div id="goals-grid-view">
        <table>
          <thead>
            <tr>
              <th v-for="key in showColumns">
                {{ key }}
              </th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(goal, index) in goals"
                    v-on:click="onRowClicked"
                    v-bind:id="index"
                    v-bind:class="{'selected': (index == selectedGoalId)}">
              <td>#<input v-model="index" type="text"></td>
              <td>{{ computePrettyStreak(index) }}</td>
              <td>{{ prettyDate(goal.first_check) }}</td>
              <td><button class="black-button" v-on:click="onDeleteClick" v-bind:id="index">x</button></td>
            </tr>
            <tr v-bind:id="goals.length"
                v-bind:class="{'selected': (goals.length == selectedGoalId)}">
              <td>#<input v-model.trim="newEntry" @change="addNewGoal" type="text" placeholder="one_day" v-on:focus="selectedGoalId = goals.length"></td>
              <td>--</td>
              <td>--</td>
              <td>&nbsp;&nbsp;</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div id="goal-detail-view">
        <p v-if="selectedGoalId < goals.length">
          <table>
            <tr><td>{{ "#"+goals[selectedGoalId].goal }}</td></tr>
            <tr><td>{{ goals[selectedGoalId].streak+" days" }}</td></tr>
            <tr><td>{{ "since "+prettyDate(goals[selectedGoalId].started) }}</td></tr>
            <tr><td><p v-if="wasCheckedToday">&#10004;</p></td></tr>
            <tr><td> <button v-on:click="onCheckClick">check today</button> </td></tr>
          </table>
        </p>
        <p v-else>Common, don't be shy. Type in something and press enter.</p>
      </div>
    </div>

    <script type = "text/javascript" src = "local_goals.js"></script>
    <script type = "text/javascript" src = "dayone_app.js"></script>
  </body>
</html>
